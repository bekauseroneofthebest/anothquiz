<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mystic River — Noir Challenge</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@600&family=Open+Sans:wght@400;600&display=swap');

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at top, #1b1512 0%, #0d0a08 100%);
      font-family: 'Open Sans', sans-serif;
      color: #f5f5f5;
      overflow: hidden;
      position: relative;
    }

    body::before {
      content: '';
      position: absolute;
      inset: 0;
      background: url('https://www.transparenttextures.com/patterns/dark-mosaic.png');
      opacity: 0.08;
      pointer-events: none;
    }

    .quiz-container {
      background: rgba(40, 32, 28, 0.9);
      border: 1px solid #50311e;
      box-shadow: 0 0 25px rgba(80, 49, 30, 0.8);
      border-radius: 20px;
      padding: 40px;
      width: 90%;
      max-width: 650px;
      backdrop-filter: blur(4px);
      animation: fadeIn 1s ease;
      z-index: 1;
    }

    h1 {
      font-family: 'Cinzel', serif;
      color: #d3b08c;
      text-align: center;
      letter-spacing: 2px;
      margin-bottom: 25px;
      text-shadow: 0 0 15px rgba(80, 49, 30, 0.6);
    }

    .question {
      font-weight: 600;
      font-size: 1.2em;
      text-align: center;
      margin-bottom: 20px;
      color: #ffffff;
    }

    .answers button {
      display: block;
      width: 100%;
      background: linear-gradient(145deg, #2a221d, #1b1512);
      color: #ffffff;
      font-weight: bold;
      border: 2px solid #50311e;
      border-radius: 10px;
      padding: 12px;
      margin: 8px 0;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 0 8px rgba(0, 0, 0, 0.5);
    }

    .answers button:hover {
      background: #50311e;
      transform: scale(1.03);
      box-shadow: 0 0 12px rgba(80, 49, 30, 0.8);
    }

    .correct {
      animation: glow 0.8s ease-in-out;
    }

    @keyframes glow {
      from { box-shadow: 0 0 20px #0f0; }
      to { box-shadow: 0 0 0 transparent; }
    }

    .result {
      text-align: center;
      margin-top: 20px;
      font-size: 1.1em;
      color: #d3b08c;
      min-height: 30px;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>Mystic River — Maze Challenge</h1>
    <div id="quiz"></div>
    <div class="result" id="result"></div>
  </div>

  <script>
    const questions = [
      {
        question: 'Who directed *Mystic River*?',
        answers: ['Clint Eastwood', 'Steven Spielberg', 'Martin Scorsese', 'David Fincher'],
        correct: 'Clint Eastwood'
      },
      {
        question: 'What novel is the film based on?',
        answers: ['Dennis Lehane’s 2001 novel', 'Stephen King’s short story', 'A John Grisham novel', 'Original screenplay'],
        correct: 'Dennis Lehane’s 2001 novel'
      },
      {
        question: 'Which three actors play the childhood friends?',
        answers: ['Sean Penn, Tim Robbins, Kevin Bacon', 'Matt Damon, Ben Affleck, Casey Affleck', 'Leonardo DiCaprio, Brad Pitt, Tom Hanks', 'Christian Bale, Gary Oldman, Michael Caine'],
        correct: 'Sean Penn, Tim Robbins, Kevin Bacon'
      },
      {
        question: 'Where was the movie primarily shot?',
        answers: ['Massachusetts', 'New York', 'California', 'Chicago'],
        correct: 'Massachusetts'
      },
      {
        question: 'Who composed the musical score?',
        answers: ['Clint Eastwood', 'Hans Zimmer', 'John Williams', 'Thomas Newman'],
        correct: 'Clint Eastwood'
      },
      {
        question: 'What event reunites the three childhood friends?',
        answers: ['A murder investigation', 'A wedding', 'A bank robbery', 'A reunion party'],
        correct: 'A murder investigation'
      },
      {
        question: 'Which studio developed the adaptation?',
        answers: ['Warner Bros.', 'Paramount Pictures', 'Universal Studios', 'Columbia Pictures'],
        correct: 'Warner Bros.'
      }
    ];

    let currentQuestion = 0;
    let attempts = 0;
    const maxAttempts = 5;

    function shuffle(array) {
      return array.sort(() => Math.random() - 0.5);
    }

    function loadQuestion() {
      const quizDiv = document.getElementById('quiz');
      quizDiv.innerHTML = '';
      const q = questions[currentQuestion];
      const questionEl = document.createElement('div');
      questionEl.classList.add('question');
      questionEl.textContent = q.question;
      quizDiv.appendChild(questionEl);

      const answersDiv = document.createElement('div');
      answersDiv.classList.add('answers');
      shuffle([...q.answers]).forEach(answer => {
        const btn = document.createElement('button');
        btn.textContent = answer;
        btn.onclick = () => checkAnswer(answer, btn);
        answersDiv.appendChild(btn);
      });
      quizDiv.appendChild(answersDiv);
    }

    function checkAnswer(answer, btn) {
      const q = questions[currentQuestion];
      if (answer === q.correct) {
        btn.classList.add('correct');
        document.getElementById('result').textContent = 'Correct!';
        setTimeout(() => {
          currentQuestion++;
          attempts = 0;
          if (currentQuestion < questions.length) {
            loadQuestion();
          } else {
            document.getElementById('quiz').innerHTML = '<h2>All questions completed!</h2>';
            document.getElementById('result').textContent = '';
          }
        }, 800);
      } else {
        attempts++;
        document.getElementById('result').textContent = `Try again (${attempts}/${maxAttempts})`;
        if (attempts >= maxAttempts) {
          document.getElementById('result').textContent = 'Moving to next question...';
          setTimeout(() => {
            currentQuestion++;
            attempts = 0;
            if (currentQuestion < questions.length) {
              loadQuestion();
            } else {
              document.getElementById('quiz').innerHTML = '<h2>All questions completed!</h2>';
              document.getElementById('result').textContent = '';
            }
          }, 1000);
        }
      }
    }

    loadQuestion();
  </script>
</body>
</html>
